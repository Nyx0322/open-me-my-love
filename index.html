<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Open me, my love</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
:root {
  --cream: #fbf6ef;
  --purple: #b28ddb;
  --soft-purple: #e6d9f5;
  --text: #3a2f4d;
  --heart-color: #ff6b81;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  background: var(--cream) url('https://images.unsplash.com/photo-1603484477859-abe6a73f9366?fm=jpg&q=60&w=3000') no-repeat center center fixed;
  background-size: cover;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  font-family: 'Patrick Hand', cursive;
}

.card {
  background: #fffaf0;
  width: 92%;
  max-width: 520px;
  padding: 35px 28px;
  border-radius: 20px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  border: 2px dashed var(--purple);
  text-align: center;
  position: relative;
}

h1 {
  font-family: 'Dancing Script', cursive;
  color: var(--purple);
  font-size: 2em;
}

p {
  line-height: 1.6;
  font-size: 1.05em;
  opacity: 0;
}

button {
  font-family: 'Patrick Hand', cursive;
  background: #f9eaff;
  border: 1px dashed var(--purple);
  padding: 10px 15px;
  border-radius: 12px;
  color: var(--text);
  cursor: pointer;
  font-size: 1em;
  margin: 10px 5px 0;
}

button:hover {
  transform: scale(1.05);
}

.hidden { display: none; }

.heart {
  position: absolute;
  font-size: 24px;
  opacity: 0;
}
</style>
</head>

<body>

<!-- üéµ BACKGROUND MUSIC -->
<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="card">
  <h1>Open me, my love</h1>

  <div id="sections">

    <!-- Section 0 -->
    <div id="section0">
      <div id="letterIntro"></div>
      <button id="nextBtn" class="hidden">Click Me!</button>
    </div>

    <!-- Section 1 -->
    <div id="section1" class="hidden">
      <p>Rhi, there are so many little things you do that make me fall for you again and again.</p>
      <p>The way your voice gets higher when you talk about something you love.</p>
      <p>The way you giggle when I pull a face at you.</p>
      <p>The way you say the sweetest things about me without even trying.</p>
      <p>Honestly, everything you do makes me fall for you over and over.</p>
      <button onclick="showSection('section0')">Back ‚¨ÖÔ∏è</button>
      <button onclick="showSection('section2')">Tell me more ü•∫</button>
    </div>

    <!-- Section 2 -->
    <div id="section2" class="hidden">
      <p>People say that people fall in love, but for me falling for you</p>
      <p>Felt like visiting a place I had never been to before</p>
      <p>And somehow knowing that it was home.</p>
      <p>You mean everything to me.</p>
      <button onclick="showSection('section1')">Back ‚¨ÖÔ∏è</button>
      <button onclick="showSection('section2a')">Tell me more ü•∫</button>
    </div>

    <!-- Section 2a -->
    <div id="section2a" class="hidden">
      <p>When you came into my life, I thought‚Äî</p>
      <p>"Would she like me back?"</p>
      <p>But that night, on the 21st of September,</p>
      <p>To me‚Ä¶ felt like magic.</p>
      <button onclick="showSection('section2')">Back ‚¨ÖÔ∏è</button>
      <button onclick="showSection('section3')">Next üíú</button>
    </div>

    <!-- Section 3 -->
    <div id="section3" class="hidden">
      <p>I didn‚Äôt know how much you meant to me.</p>
      <p>Finding out you felt the same changed everything.</p>
      <p>I woke up with you on my mind and fell asleep with you there too.</p>
      <button onclick="showSection('section2a')">Back ‚¨ÖÔ∏è</button>
      <button onclick="showSection('section3a')">Next ‚ù§Ô∏è</button>
    </div>

    <!-- Section 3a -->
    <div id="section3a" class="hidden">
      <p>I knew I loved you when‚Äî</p>
      <p>I was scared of flying because I didn‚Äôt want to be without you.</p>
      <p>I knew I loved you when my nerves calmed just by talking to you.</p>
      <p>I knew I loved you when no matter what, you never saw me differently.</p>
      <button onclick="showSection('section3')">Back ‚¨ÖÔ∏è</button>
      <button onclick="showSection('poemSection')">Continue üòä</button>
    </div>

    <!-- Poem -->
    <div id="poemSection" class="hidden">
      <p>From this day onto the next, I vow‚Äî</p>
      <p>Every morning I will choose you.</p>
      <p>If the world turns against you, I will stand louder.</p>
      <p>If you feel alone, I will be your home.</p>
      <p>I will love you forever.</p>
      <button onclick="showSection('section3a')">Back ‚¨ÖÔ∏è</button>
      <button onclick="showSection('section4')">One last thing üçØ</button>
    </div>

    <!-- Final -->
    <div id="section4" class="hidden">
      <p>I may not be rich in money,</p>
      <p>But I wanted to give you something from my heart.</p>
      <p>Happy four months, my love.</p>
      <p>I love you. Forever.</p>
      <button onclick="showSection('poemSection')">Back ‚¨ÖÔ∏è</button>
      <button id="surpriseBtn">A little surprise üíñ</button>
    </div>

  </div>
</div>

<script>
// üéµ MUSIC START (PHONE SAFE + FADE IN)
const bgMusic = document.getElementById("bgMusic");

function startMusic(){
  bgMusic.volume = 0;
  bgMusic.play().catch(()=>{});

  let v = 0;
  const fade = setInterval(()=>{
    v += 0.02;
    bgMusic.volume = Math.min(v, 0.6);
    if(v >= 0.6) clearInterval(fade);
  }, 100);
}

document.addEventListener("click", startMusic, { once:true });
document.addEventListener("touchstart", startMusic, { once:true });

// Letter intro
const letterLines = [
  "Hi my love.",
  "I made this just for you.",
  "Even from far away, you mean more to me than words can say.",
  "Take your time, okay?"
];

const letterIntro = document.getElementById("letterIntro");
const nextBtn = document.getElementById("nextBtn");
let lineIndex = 0;

function showLine(){
  if(lineIndex < letterLines.length){
    const p = document.createElement("p");
    p.textContent = letterLines[lineIndex];
    letterIntro.appendChild(p);
    setTimeout(()=>p.style.opacity=1,50);
    lineIndex++;
    setTimeout(showLine,800);
  } else {
    nextBtn.classList.remove("hidden");
  }
}
showLine();

nextBtn.onclick = () => showSection("section1");

function showSection(id){
  document.querySelectorAll("#sections > div")
    .forEach(s=>s.classList.add("hidden"));
  const section = document.getElementById(id);
  section.classList.remove("hidden");

  section.querySelectorAll("p").forEach((p,i)=>{
    p.style.opacity=0;
    setTimeout(()=>p.style.opacity=1, i*400);
  });
}

// üíñ HEART SURPRISE
document.getElementById("surpriseBtn").onclick = ()=>{
  const centerX = window.innerWidth/2;
  const centerY = window.innerHeight/2;
  const scale = 15;
  const hearts = 50;

  for(let i=0;i<hearts;i++){
    const h = document.createElement("div");
    h.textContent="üíñ";
    h.className="heart";
    document.body.appendChild(h);

    const t = Math.PI*2*(i/hearts);
    const start = performance.now();
    const duration = 3500;

    function animate(time){
      const p = Math.min((time-start)/duration,1);
      const a = t + p*Math.PI*2;
      const x = 16*Math.pow(Math.sin(a),3)*scale;
      const y = (13*Math.cos(a)-5*Math.cos(2*a)-2*Math.cos(3*a)-Math.cos(4*a))*scale;
      h.style.left = centerX + x + "px";
      h.style.top = centerY - y + "px";
      h.style.opacity = 1-p;
      if(p<1) requestAnimationFrame(animate);
      else h.remove();
    }
    requestAnimationFrame(animate);
  }
};
</script>

</body>
</html>
